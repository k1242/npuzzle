<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blocks</title>
  
  <!-- Open Graph meta tags -->
  <meta property="og:title" content="Blocks">
  <meta property="og:description" content="Falling tetraminos">
  <meta property="og:image" content="https://qdiag.xyz/assets/blocks-preview.png">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://qdiag.xyz/blocks/">

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="https://qdiag.xyz/assets/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://qdiag.xyz/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://qdiag.xyz/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="https://qdiag.xyz/assets/icons/site.webmanifest">
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  
  <!-- CSS files -->
  <link rel="stylesheet" href="common.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="board.css">
  <link rel="stylesheet" href="ui.css">
  <link rel="stylesheet" href="responsive.css">
</head>
<body>
  <header class="header">
    <div class="leftControls">
      <button id="menuBtn" class="hamburger">
        <span></span>
      </button>
      
      <div class="title-wrapper">
        <button id="titleBtn" class="title-button">
          Blocks
          <svg class="chevron" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        
        <div id="gamesDropdown" class="games-dropdown">
          <a href="/blocks/" class="game-item active">
            <span class="game-name">Blocks</span>
            <span class="game-desc">Falling tetraminos</span>
          </a>
          <a href="/other-game/" class="game-item">
            <span class="game-name">Other Game</span>
            <span class="game-desc">Coming soon</span>
          </a>
        </div>
      </div>
    </div>
    
    <div class="rightControls">
      <a href="#" id="helpLink">How to Play</a>
      <button id="newBtn" class="btn btn-primary">New Game</button>
    </div>
  </header>
  
  <div id="panel" class="settings-panel">
    <div class="setting">
      <label title="Enable or disable gameplay animations">Animations</label>
      <label class="switch">
        <input type="checkbox" id="animationsToggle" checked>
        <span class="slider"></span>
      </label>
    </div>
    <div class="setting">
      <label title="Control pieces with mouse movement">Mouse Control</label>
      <label class="switch">
        <input type="checkbox" id="mouseControlToggle">
        <span class="slider"></span>
      </label>
    </div>
  </div>
  
  <div id="app">
    <!-- Mobile score box - hidden on desktop -->
    <div class="info-box mobile-score-box">
      <div class="score-section">
        <h3>Score</h3>
        <div class="score" id="score-mobile">0</div>
      </div>
      <div class="stats">
        <div>Level <span id="level-mobile">1</span></div>
        <div>Lines <span id="lines-mobile">0</span></div>
      </div>
    </div>
    
    <!-- Game area wrapper for mobile layout -->
    <div class="game-area-wrapper">
      <!-- Left panel with Hold and Next (Next moves here on mobile) -->
      <div class="side-panel left">
        <div class="info-box piece-box" id="holdBox">
          <h3>Hold</h3>
          <div class="hold-preview" id="holdPreview">
            <div class="empty-hold"></div>
          </div>
        </div>
        
        <!-- Next box - moves here on mobile from right panel -->
        <div class="info-box piece-box mobile-next" id="nextBox">
          <h3>Next</h3>
          <div class="next-queue" id="nextQueue"></div>
        </div>
      </div>
      
      <!-- Game container -->
      <div class="game-container">
        <div class="board-wrap">
          <div id="board"></div>
          <div class="paused-overlay" id="pausedOverlay">
            <div class="paused-text">PAUSED</div>
          </div>
        </div>
        <h2 id="gameOverText" class="game-over-text">Game Over</h2>
      </div>
      
      <!-- Right panel - hidden on mobile -->
      <div class="side-panel right">
        <div class="info-box">
          <h3>Score</h3>
          <div class="score" id="score">0</div>
          <div class="stats">
            <div>Level <span id="level">1</span></div>
            <div>Lines <span id="lines">0</span></div>
          </div>
        </div>
        
        <div class="info-box piece-box desktop-next">
          <h3>Next</h3>
          <div class="next-queue" id="nextQueueDesktop"></div>
        </div>
      </div>
    </div>
  </div>
  
  <footer class="footer">
    <a href="https://t.me/qdiag" target="_blank">Telegram channel @qdiag</a>
  </footer>
  
  <div class="help-modal" id="helpModal">
    <div class="help-content">
      <h2>How to Play Blocks</h2>
      <p>Place falling blocks to create complete horizontal lines. When a line is completed, it disappears and you earn points!</p>
      
      <h3>Controls</h3>
      <ul>
        <li><strong>← →</strong> or <strong>A/D</strong> - Move left/right</li>
        <li><strong>↓</strong> or <strong>S</strong> - Soft drop (faster fall)</li>
        <li><strong>↑</strong> or <strong>W</strong> - Rotate clockwise</li>
        <li><strong>Space</strong> - Hard drop (instant fall)</li>
        <li><strong>C</strong> - Hold piece (swap with held piece)</li>
        <li><strong>P</strong> - Pause game</li>
      </ul>
      
      <h3>Scoring</h3>
      <ul>
        <li><strong>1 line</strong> - 100 × level points</li>
        <li><strong>2 lines</strong> - 300 × level points</li>
        <li><strong>3 lines</strong> - 500 × level points</li>
        <li><strong>4 lines</strong> - 800 × level points</li>
        <li><strong>Soft drop</strong> - 1 point per cell</li>
        <li><strong>Hard drop</strong> - 2 points per cell</li>
      </ul>
      
      <h3>Level System</h3>
      <p>Every 10 lines cleared increases your level. Higher levels mean faster falling pieces!</p>
      
      <button class="btn btn-primary" id="closeHelp">Got it!</button>
    </div>
  </div>
  
  <!-- JavaScript files -->
  <script src="common.js"></script>
  <script type="module" src="events.js"></script>
  <script type="module" src="engine.js"></script>
  <script type="module" src="renderer.js"></script>
  <script type="module" src="controller.js"></script>
  <script type="module" src="script.js"></script>
</body>
</html>